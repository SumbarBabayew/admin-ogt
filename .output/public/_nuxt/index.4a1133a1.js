import{M as V}from"./MTextField.5144c562.js";import{C as j,v as C,D as y}from"./admin.api.c4618457.js";import{i as S,j as z,r as d,k as F,g as M,c as N,e as a,w as t,a as r,o as T,b as _,f as q,t as b,m as f}from"./entry.95095313.js";import{L}from"./Loading.5d2fac71.js";/* empty css                       */const P={key:1,class:"mx-3"},R={class:"d-flex align-center justify-space-between pt-sm-2"},$={class:"d-flex justify-end pb-3"},G={class:"mr-2"},X={__name:"index",setup(H){const c=S(),n=z(),i=d(!1),m=d(!1),v=d(!1),e=d({departureTime:null,landingTime:null,startId:null,destinationId:null}),p=d([]),w=async()=>{const l=await C({limit:100});p.value=l.data},k=async()=>{if(n.params.id==0){if(!e.value.startId||!e.value.destinationId||!e.value.departureTime)return i.value=!0;v.value=!0,await y({data:e.value,id:n.params.id}).then(async l=>{c.go(-1)}).catch(l=>{alert(l)})}else{if(!e.value.startId||!e.value.destinationId||!e.value.departureTime)return i.value=!0;v.value=!0,await y({data:e.value,id:n.params.id}).then(async l=>{c.go(-1)}).catch(l=>{alert(l)})}};return F(async()=>{if(await w(),n.params.id!=0){m.value=!0;const{data:l}=await j({id:n.params.id});e.value=l,m.value=!1}}),(l,o)=>{const x=r("v-card-title"),h=r("ArrowBackUpIcon"),A=r("v-avatar"),g=r("v-btn"),I=r("v-select"),u=r("v-col"),D=r("v-row"),B=r("v-card-item"),E=r("ScriptPlusIcon"),U=r("v-card");return m.value?(T(),M(L,{key:0})):(T(),N("div",P,[a(U,{elevation:"10",class:"withbg"},{default:t(()=>[a(B,null,{default:t(()=>[_("div",R,[a(x,{class:"text-h5"},{default:t(()=>[q(b(f(n).params.id==0?"Add":"Edit")+" flight",1)]),_:1}),a(g,{size:"large",icon:"",class:"bg-primary",onClick:o[0]||(o[0]=s=>f(c).go(-1))},{default:t(()=>[a(A,{size:"large",class:"text-white"},{default:t(()=>[a(h,{size:"25"})]),_:1})]),_:1})]),a(D,{class:"mt-3"},{default:t(()=>[a(u,{cols:"12",lg:"6",sm:"13"},{default:t(()=>[a(I,{label:"Start",items:p.value.data,error:!e.value.startId&&i.value,required:"","item-title":"nameEn",modelValue:e.value.startId,"onUpdate:modelValue":o[1]||(o[1]=s=>e.value.startId=s),"item-value":"id",variant:"outlined","return-object":!1},null,8,["items","error","modelValue"])]),_:1}),a(u,{cols:"12",lg:"6",sm:"13"},{default:t(()=>[a(I,{label:"Destination",items:p.value.data,error:!e.value.destinationId&&i.value,required:"","item-title":"nameEn",modelValue:e.value.destinationId,"onUpdate:modelValue":o[2]||(o[2]=s=>e.value.destinationId=s),"item-value":"id",variant:"outlined","return-object":!1},null,8,["items","error","modelValue"])]),_:1}),a(u,{cols:"6"},{default:t(()=>[a(V,{type:"datetime-local",label:"Departure Time",error:!e.value.departureTime&&i.value,modelValue:e.value.departureTime,"onUpdate:modelValue":o[3]||(o[3]=s=>e.value.departureTime=s)},null,8,["error","modelValue"])]),_:1}),a(u,{cols:"6"},{default:t(()=>[a(V,{type:"datetime-local",label:"Arrival Time",error:!e.value.landingTime&&i.value,modelValue:e.value.landingTime,"onUpdate:modelValue":o[4]||(o[4]=s=>e.value.landingTime=s)},null,8,["error","modelValue"])]),_:1})]),_:1})]),_:1}),_("div",$,[a(g,{class:"profileBtn bg-primary custom-hover-primary",variant:"text",loading:v.value,onClick:k},{default:t(()=>[_("span",G,b(f(n).params.id==0?"Add":"Edit")+" flight",1),a(E)]),_:1},8,["loading"])])]),_:1})]))}}};export{X as default};
