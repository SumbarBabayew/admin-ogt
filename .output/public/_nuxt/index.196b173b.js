import{j as A,i as E,r as v,k as L,g as V,c as j,e as a,w as o,a as u,o as _,b as p,f as F,t as w,m as c,l as M,D as z,L as T}from"./entry.95095313.js";import{_ as R}from"./MImageUpload.7346563c.js";import{M as m}from"./MTextField.5144c562.js";/* empty css                      */import{L as $}from"./Loading.5d2fac71.js";import{bm as O,bn as x,bo as N}from"./admin.api.c4618457.js";import"./BaseUrl.ad8812f8.js";/* empty css                       */const q={key:1,class:"mx-3"},G={class:"d-flex align-center justify-space-between pt-sm-2"},H={class:"d-flex justify-end pb-3"},J=["value"],K={class:"mr-2"},oe={__name:"index",setup(Q){const s=A(),f=E(),r=v(!1),g=v(!1),y=v(!1),i=v(null),k=n=>i.value=n[0],e=v({firstName:null,lastName:null,position:null,avatar:null,password:null,email:null,standId:null,orderNumber:null,avatar:"",isBlocked:null}),U=async()=>{if(!e.value.firstName||!e.value.lastName||!e.value.position)return r.value=!0;if(y.value=!0,s.params.id==0)await x({data:e.value,id:s.params.id}).then(async n=>{await N({id:n.data.id,data:{file:i.value}}),f.go(-1)}).catch(n=>{console.log(n)});else{if(!e.value.firstName||!e.value.lastName||!e.value.position)return r.value=!0;delete e.value.password,await x({data:e.value,id:s.params.id}).then(async()=>{i.value&&await N({id:s.params.id,data:{file:i.value}}),f.go(-1)})}};return L(async()=>{if(s.params.id!=0){const{data:n}=await O({id:s.params.id});e.value=n}g.value=!0}),(n,l)=>{const B=u("v-card-title"),h=u("ArrowBackUpIcon"),I=u("v-avatar"),b=u("v-btn"),d=u("v-col"),C=u("v-row"),D=u("v-card-item"),P=u("ScriptPlusIcon"),S=u("v-card");return g.value?(_(),j("div",q,[a(S,{elevation:"10",class:"withbg px-3"},{default:o(()=>[a(D,null,{default:o(()=>[p("div",G,[a(B,{class:"text-h5"},{default:o(()=>[F(w(c(s).params.id==0?"Add":"Edit")+" user",1)]),_:1}),a(b,{size:"large",icon:"",class:"bg-primary",onClick:l[0]||(l[0]=t=>c(f).go(-1))},{default:o(()=>[a(I,{size:"large",class:"text-white"},{default:o(()=>[a(h,{size:"25"})]),_:1})]),_:1})]),a(C,{class:"mt-3"},{default:o(()=>[a(d,{cols:"12",lg:"4",sm:"13"},{default:o(()=>[a(m,{type:"text",label:"Firstname",error:!e.value.firstName&&r.value,modelValue:e.value.firstName,"onUpdate:modelValue":l[1]||(l[1]=t=>e.value.firstName=t)},null,8,["error","modelValue"])]),_:1}),a(d,{cols:"12",lg:"4",sm:"13"},{default:o(()=>[a(m,{type:"text",label:"Lastname",error:!e.value.lastName&&r.value,modelValue:e.value.lastName,"onUpdate:modelValue":l[2]||(l[2]=t=>e.value.lastName=t)},null,8,["error","modelValue"])]),_:1}),a(d,{cols:"12",lg:"4",sm:"13"},{default:o(()=>[a(m,{type:"number",label:"Order Number",error:!e.value.orderNumber&&r.value,modelValue:e.value.orderNumber,"onUpdate:modelValue":l[3]||(l[3]=t=>e.value.orderNumber=t)},null,8,["error","modelValue"])]),_:1}),a(d,{cols:"12",lg:"6",sm:"13"},{default:o(()=>[a(m,{type:"text",label:"Email",error:!e.value.email&&r.value,modelValue:e.value.email,"onUpdate:modelValue":l[4]||(l[4]=t=>e.value.email=t)},null,8,["error","modelValue"])]),_:1}),a(d,{cols:"12",lg:"6",sm:"13"},{default:o(()=>[a(m,{type:"text",label:"Company",error:!e.value.position&&r.value,modelValue:e.value.position,"onUpdate:modelValue":l[5]||(l[5]=t=>e.value.position=t)},null,8,["error","modelValue"])]),_:1}),c(s).params.id==0?(_(),V(d,{key:0,cols:"12",lg:"4",sm:"13"},{default:o(()=>[a(m,{type:"text",label:"Password",error:!e.value.password&&r.value,modelValue:e.value.password,"onUpdate:modelValue":l[6]||(l[6]=t=>e.value.password=t)},null,8,["error","modelValue"])]),_:1})):M("",!0),a(d,{lg:"12",sm:"12"},{default:o(()=>[a(R,{width:"width:100%",style:"display:flex; justify-content:center",photoSrc:{type:"string",value:e.value.avatar},type:"user",error:r.value&&!i.value,selectedFile:i.value,onPhotoPath:k,placeholder:"Surat"},null,8,["photoSrc","error","selectedFile"])]),_:1})]),_:1})]),_:1}),p("div",H,[z(p("input",{type:"checkbox","onUpdate:modelValue":l[7]||(l[7]=t=>e.value.isBlocked=t),value:e.value.isBlocked},null,8,J),[[T,e.value.isBlocked]]),a(b,{class:"profileBtn bg-primary custom-hover-primary",variant:"text",onClick:U,loading:y.value},{default:o(()=>[p("span",K,w(c(s).params.id==0?"Add":"Edit")+" user",1),a(P)]),_:1},8,["loading"])])]),_:1})])):(_(),V($,{key:0}))}}};export{oe as default};
