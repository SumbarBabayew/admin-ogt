/* empty css                       */import{J as C,K as U,L as j}from"./admin.api.c4618457.js";import{i as D,j as N,r as l,k as S,g as z,c as E,e,w as o,a as t,o as h,b as d,f as L,m as q}from"./entry.95095313.js";import{L as P}from"./Loading.5d2fac71.js";const T={key:1,class:"mx-3"},J={class:"d-flex align-center justify-space-between pt-sm-2"},K={class:"d-flex justify-end pb-3"},M=d("span",{class:"mr-2"},"Add user",-1),Q={__name:"index",setup($){const i=D(),I=N(),c=l(!1),u=l(!1),m=l(!1),a=l({userId:null,chatRoomId:null}),v=l([]),_=l([]),w=async()=>{const r=await C({limit:100});v.value=r.data;const s=await U({limit:50});_.value=s.data},b=async()=>{if(!a.value.userId||!a.value.chatRoomId)return c.value=!0;m.value=!0,await j({data:a.value,id:I.params.id}).then(async r=>{i.go(-1)}).catch(r=>{alert(r)})};return S(async()=>{u.value=!0,await w(),u.value=!1}),(r,s)=>{const x=t("v-card-title"),y=t("ArrowBackUpIcon"),k=t("v-avatar"),p=t("v-btn"),f=t("v-select"),g=t("v-col"),V=t("v-row"),B=t("v-card-item"),R=t("ScriptPlusIcon"),A=t("v-card");return u.value?(h(),z(P,{key:0})):(h(),E("div",T,[e(A,{elevation:"10",class:"withbg"},{default:o(()=>[e(B,null,{default:o(()=>[d("div",J,[e(x,{class:"text-h5"},{default:o(()=>[L("Add user")]),_:1}),e(p,{size:"large",icon:"",class:"bg-primary",onClick:s[0]||(s[0]=n=>q(i).go(-1))},{default:o(()=>[e(k,{size:"large",class:"text-white"},{default:o(()=>[e(y,{size:"25"})]),_:1})]),_:1})]),e(V,{class:"mt-3"},{default:o(()=>[e(g,{cols:"12",lg:"6",sm:"13"},{default:o(()=>[e(f,{label:"Select user",items:v.value.data,error:!a.value.userId&&c.value,required:"","item-title":"firstName",modelValue:a.value.userId,"onUpdate:modelValue":s[1]||(s[1]=n=>a.value.userId=n),"item-value":"id",variant:"outlined","return-object":!1},null,8,["items","error","modelValue"])]),_:1}),e(g,{cols:"12",lg:"6",sm:"13"},{default:o(()=>[e(f,{label:"Select chatroom",items:_.value.data,error:!a.value.chatRoomId&&c.value,required:"","item-title":"nameEn",modelValue:a.value.chatRoomId,"onUpdate:modelValue":s[2]||(s[2]=n=>a.value.chatRoomId=n),"item-value":"id",variant:"outlined","return-object":!1},null,8,["items","error","modelValue"])]),_:1})]),_:1})]),_:1}),d("div",K,[e(p,{class:"profileBtn bg-primary custom-hover-primary",variant:"text",loading:m.value,onClick:b},{default:o(()=>[M,e(R)]),_:1},8,["loading"])])]),_:1})]))}}};export{Q as default};
