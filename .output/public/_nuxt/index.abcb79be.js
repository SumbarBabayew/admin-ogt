import{M as _}from"./MTextField.5144c562.js";import{_ as T}from"./MImageUpload.7346563c.js";import{M as f}from"./MTextArea.28b9e9bb.js";import{av as S,aw as w,ax as V}from"./admin.api.c4618457.js";import{i as M,j as P,r as v,k as j,g as C,c as D,e as l,w as t,a as n,o as x,b as y,f as z,t as E,m as b}from"./entry.95095313.js";import{L as F}from"./Loading.5d2fac71.js";/* empty css                       */import"./BaseUrl.ad8812f8.js";/* empty css                      */const L={key:1,class:"mx-3"},$={class:"d-flex align-center justify-space-between pt-sm-2"},O={class:"d-flex justify-end pb-3"},q={class:"mr-2"},ae={__name:"index",setup(G){const m=M(),s=P(),r=v(!1),d=v(null),p=v(!1),c=v(!1),R=o=>d.value=o[0],e=v({titleRu:null,titleEn:null,titleX:null,bodyRu:null,bodyEn:null,bodyX:null,image:""}),k=async()=>{if(s.params.id==0){if(!e.value.titleRu||!e.value.titleEn||!e.value.bodyRu||!d.value)return r.value=!0;c.value=!0,await w({data:e.value,id:s.params.id}).then(async o=>{await V({id:o.data.id,data:{file:d.value}}),m.go(-1)}).catch(o=>{alert(o)})}else{if(!e.value.titleRu||!e.value.titleEn||!e.value.bodyRu)return r.value=!0;c.value=!0,await w({data:e.value,id:s.params.id}).then(async o=>{d.value&&await V({id:o.data.id,data:{file:d.value}}),m.go(-1)}).catch(o=>{alert(o)})}c.value=!1};return j(async()=>{if(s.params.id!=0){p.value=!0;const{data:o}=await S({id:s.params.id});e.value=o,p.value=!1}}),(o,a)=>{const B=n("v-card-title"),U=n("ArrowBackUpIcon"),X=n("v-avatar"),g=n("v-btn"),i=n("v-col"),h=n("v-row"),N=n("v-card-item"),A=n("ScriptPlusIcon"),I=n("v-card");return p.value?(x(),C(F,{key:0})):(x(),D("div",L,[l(I,{elevation:"10",class:"withbg"},{default:t(()=>[l(N,null,{default:t(()=>[y("div",$,[l(B,{class:"text-h5"},{default:t(()=>[z(E(b(s).params.id==0?"Add":"Edit")+" news",1)]),_:1}),l(g,{size:"large",icon:"",class:"bg-primary",onClick:a[0]||(a[0]=u=>b(m).go(-1))},{default:t(()=>[l(X,{size:"large",class:"text-white"},{default:t(()=>[l(U,{size:"25"})]),_:1})]),_:1})]),l(h,{class:"mt-3"},{default:t(()=>[l(i,{cols:"12"},{default:t(()=>[l(_,{type:"text",label:"Title (EN)",error:!e.value.titleEn&&r.value,modelValue:e.value.titleEn,"onUpdate:modelValue":a[1]||(a[1]=u=>e.value.titleEn=u)},null,8,["label","error","modelValue"])]),_:1}),l(i,{cols:"12"},{default:t(()=>[l(_,{type:"text",label:"Title (RU)",error:!e.value.titleRu&&r.value,modelValue:e.value.titleRu,"onUpdate:modelValue":a[2]||(a[2]=u=>e.value.titleRu=u)},null,8,["label","error","modelValue"])]),_:1}),l(i,{cols:"12"},{default:t(()=>[l(_,{type:"text",label:"Title (X)",error:!e.value.titleX&&r.value,modelValue:e.value.titleX,"onUpdate:modelValue":a[3]||(a[3]=u=>e.value.titleX=u)},null,8,["label","error","modelValue"])]),_:1}),l(i,{cols:"12"},{default:t(()=>[l(f,{type:"text",label:"Body (EN)",error:!e.value.bodyEn&&r.value,modelValue:e.value.bodyEn,"onUpdate:modelValue":a[4]||(a[4]=u=>e.value.bodyEn=u)},null,8,["label","error","modelValue"])]),_:1}),l(i,{cols:"12"},{default:t(()=>[l(f,{type:"text",label:"Body (RU)",error:!e.value.bodyRu&&r.value,modelValue:e.value.bodyRu,"onUpdate:modelValue":a[5]||(a[5]=u=>e.value.bodyRu=u)},null,8,["label","error","modelValue"])]),_:1}),l(i,{cols:"12"},{default:t(()=>[l(f,{type:"text",label:"Body (X)",error:!e.value.bodyX&&r.value,modelValue:e.value.bodyX,"onUpdate:modelValue":a[6]||(a[6]=u=>e.value.bodyX=u)},null,8,["label","error","modelValue"])]),_:1}),l(i,{lg:"6",sm:"12"},{default:t(()=>[l(T,{width:"width:100%",style:"display:flex; justify-content:center",photoSrc:{type:"string",value:e.value.image},error:r.value&&!d.value,selectedFile:d.value,onPhotoPath:R,placeholder:"Surat"},null,8,["photoSrc","error","selectedFile"])]),_:1})]),_:1})]),_:1}),y("div",O,[l(g,{class:"profileBtn bg-primary custom-hover-primary",variant:"text",loading:c.value,onClick:k},{default:t(()=>[y("span",q,E(b(s).params.id==0?"Add":"Edit")+" news",1),l(A)]),_:1},8,["loading"])])]),_:1})]))}}};export{ae as default};
