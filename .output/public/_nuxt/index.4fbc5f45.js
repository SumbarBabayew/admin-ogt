import{M as _}from"./MTextField.5144c562.js";import{_ as j}from"./MImageUpload.7346563c.js";import{aF as C,aG as y,aH as w}from"./admin.api.c4618457.js";import{i as D,j as E,r as d,k as F,g as O,c as T,e,w as l,a as o,o as x,b as f,f as z,t as h,m as g}from"./entry.95095313.js";import{L}from"./Loading.5d2fac71.js";import"./index.3e494a7b.js";import"./file-saver.3ee51bdb.js";/* empty css                       */import"./BaseUrl.ad8812f8.js";const M={key:1,class:"mx-3"},R={class:"d-flex align-center justify-space-between pt-sm-2"},$={class:"d-flex justify-end pb-3"},G={class:"mr-2"},ae={__name:"index",setup(H){const m=D(),r=E(),u=d(!1),v=d(!1),p=d(!1),n=d(null),V=t=>n.value=t[0],a=d({title:null,subtitle:null,image:"",orderNumber:null}),k=async()=>{if(!a.value.title||!a.value.subtitle)return u.value=!0;p.value=!0,r.params.id==0?await y({data:a.value,id:r.params.id}).then(async t=>{n.value&&await w({data:{file:n.value},id:t.data.id}),m.go(-1)}).catch(t=>{alert(t)}):await y({data:a.value,id:r.params.id}).then(async t=>{n.value&&await w({data:{file:n.value},id:r.params.id}),m.go(-1)}).catch(t=>{alert(t)}),p.value=!1};return F(async()=>{if(r.params.id!=0){v.value=!0;const{data:t}=await C({id:r.params.id});a.value=t,v.value=!1}}),(t,s)=>{const B=o("v-card-title"),N=o("ArrowBackUpIcon"),A=o("v-avatar"),b=o("v-btn"),c=o("v-col"),I=o("v-row"),S=o("v-card-item"),P=o("ScriptPlusIcon"),U=o("v-card");return v.value?(x(),O(L,{key:0})):(x(),T("div",M,[e(U,{elevation:"10",class:"withbg"},{default:l(()=>[e(S,null,{default:l(()=>[f("div",R,[e(B,{class:"text-h5"},{default:l(()=>[z(h(g(r).params.id==0?"Add":"Edit")+" session",1)]),_:1}),e(b,{size:"large",icon:"",class:"bg-primary",onClick:s[0]||(s[0]=i=>g(m).go(-1))},{default:l(()=>[e(A,{size:"large",class:"text-white"},{default:l(()=>[e(N,{size:"25"})]),_:1})]),_:1})]),e(I,{class:"mt-3"},{default:l(()=>[e(c,{cols:"6",lg:"4"},{default:l(()=>[e(_,{type:"text",label:"Title",error:!a.value.title&&u.value,modelValue:a.value.title,"onUpdate:modelValue":s[1]||(s[1]=i=>a.value.title=i)},null,8,["error","modelValue"])]),_:1}),e(c,{cols:"6",lg:"8"},{default:l(()=>[e(_,{type:"text",label:"Subtitle",error:!a.value.subtitle&&u.value,modelValue:a.value.subtitle,"onUpdate:modelValue":s[2]||(s[2]=i=>a.value.subtitle=i)},null,8,["error","modelValue"])]),_:1}),e(c,{cols:"12"},{default:l(()=>[e(_,{type:"text",label:"Order number",error:!a.value.orderNumber&&u.value,modelValue:a.value.orderNumber,"onUpdate:modelValue":s[3]||(s[3]=i=>a.value.orderNumber=i)},null,8,["error","modelValue"])]),_:1}),e(c,{cols:"6",lg:"6",sm:"12"},{default:l(()=>[e(j,{width:"width:100%",style:"display:flex; justify-content:center",photoSrc:{type:"string",value:a.value.image},error:u.value&&!n.value,selectedFile:n.value,onPhotoPath:V,placeholder:"Logo"},null,8,["photoSrc","error","selectedFile"])]),_:1})]),_:1})]),_:1}),f("div",$,[e(b,{class:"profileBtn bg-primary custom-hover-primary",variant:"text",loading:p.value,onClick:k},{default:l(()=>[f("span",G,h(g(r).params.id==0?"Add":"Edit")+" onboarding ",1),e(P)]),_:1},8,["loading"])])]),_:1})]))}}};export{ae as default};
