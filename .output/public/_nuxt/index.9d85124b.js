import{M as c}from"./MTextField.5144c562.js";import{e as B,f as C,h as k}from"./admin.api.c4618457.js";import{i as E,j as q,r as m,k as j,g as R,c as z,e as a,w as o,a as r,o as h,b as f,f as L,t as g,m as _}from"./entry.95095313.js";import{L as M}from"./Loading.5d2fac71.js";/* empty css                       */const P={key:1,class:"mx-3"},T={class:"d-flex align-center justify-space-between pt-sm-2"},F={class:"d-flex justify-end pb-3"},H={class:"mr-2"},X={__name:"index",setup($){const i=E(),d=q(),n=m(!1),v=m(!1),p=m(!1),e=m({firstName:null,lastName:null,phone:null,email:null,company:null,hotelId:null,checkInDate:null,checkOutDate:null}),V=m([]),D=async()=>{const u=await C({limit:100});V.value=u.data},b=async()=>{if(d.params.id==0){if(!e.value.firstName||!e.value.lastName||!e.value.phone||!e.value.email||!e.value.company)return n.value=!0;p.value=!0,await k({data:e.value,id:d.params.id}).then(async u=>{i.go(-1)}).catch(u=>{alert(u)})}else{if(!e.value.firstName||!e.value.lastName||!e.value.phone||!e.value.email||!e.value.company)return n.value=!0;p.value=!0,await k({data:e.value,id:d.params.id}).then(async u=>{i.go(-1)}).catch(u=>{alert(u)})}};return j(async()=>{if(await D(),d.params.id!=0){v.value=!0;const{data:u}=await B({id:d.params.id});e.value=u,e.value.checkOutDate=new Date(u.checkOutDate).toISOString().slice(0,16),e.value.checkInDate=new Date(u.checkInDate).toISOString().slice(0,16),v.value=!1}}),(u,l)=>{const x=r("v-card-title"),I=r("ArrowBackUpIcon"),w=r("v-avatar"),y=r("v-btn"),s=r("v-col"),N=r("v-select"),U=r("v-row"),A=r("v-card-item"),O=r("ScriptPlusIcon"),S=r("v-card");return v.value?(h(),R(M,{key:0})):(h(),z("div",P,[a(S,{elevation:"10",class:"withbg"},{default:o(()=>[a(A,null,{default:o(()=>[f("div",T,[a(x,{class:"text-h5"},{default:o(()=>[L(g(_(d).params.id==0?"Add":"Edit")+" accommodation request",1)]),_:1}),a(y,{size:"large",icon:"",class:"bg-primary",onClick:l[0]||(l[0]=t=>_(i).go(-1))},{default:o(()=>[a(w,{size:"large",class:"text-white"},{default:o(()=>[a(I,{size:"25"})]),_:1})]),_:1})]),a(U,{class:"mt-3"},{default:o(()=>[a(s,{cols:"6"},{default:o(()=>[a(c,{type:"text",label:"Firstname",error:!e.value.firstName&&n.value,modelValue:e.value.firstName,"onUpdate:modelValue":l[1]||(l[1]=t=>e.value.firstName=t)},null,8,["error","modelValue"])]),_:1}),a(s,{cols:"6"},{default:o(()=>[a(c,{type:"text",label:"Lastname",error:!e.value.lastName&&n.value,modelValue:e.value.lastName,"onUpdate:modelValue":l[2]||(l[2]=t=>e.value.lastName=t)},null,8,["error","modelValue"])]),_:1}),a(s,{cols:"6"},{default:o(()=>[a(c,{type:"text",label:"Phone",error:!e.value.phone&&n.value,modelValue:e.value.phone,"onUpdate:modelValue":l[3]||(l[3]=t=>e.value.phone=t)},null,8,["error","modelValue"])]),_:1}),a(s,{cols:"6"},{default:o(()=>[a(c,{type:"text",label:"Email",error:!e.value.email&&n.value,modelValue:e.value.email,"onUpdate:modelValue":l[4]||(l[4]=t=>e.value.email=t)},null,8,["error","modelValue"])]),_:1}),a(s,{cols:"6"},{default:o(()=>[a(c,{type:"text",label:"Company",error:!e.value.company&&n.value,modelValue:e.value.company,"onUpdate:modelValue":l[5]||(l[5]=t=>e.value.company=t)},null,8,["error","modelValue"])]),_:1}),a(s,{cols:"6"},{default:o(()=>[a(c,{type:"datetime-local",label:"Check in",error:!e.value.checkInDate&&n.value,modelValue:e.value.checkInDate,"onUpdate:modelValue":l[6]||(l[6]=t=>e.value.checkInDate=t)},null,8,["error","modelValue"])]),_:1}),a(s,{cols:"6"},{default:o(()=>[a(c,{type:"datetime-local",label:"Check out",error:!e.value.checkOutDate&&n.value,modelValue:e.value.checkOutDate,"onUpdate:modelValue":l[7]||(l[7]=t=>e.value.checkOutDate=t)},null,8,["error","modelValue"])]),_:1}),a(s,{cols:"12",lg:"12",sm:"13"},{default:o(()=>[a(N,{label:"Select hotel",items:V.value.data,error:!e.value.hotelId&&n.value,required:"","item-title":"nameEn",modelValue:e.value.hotelId,"onUpdate:modelValue":l[8]||(l[8]=t=>e.value.hotelId=t),"item-value":"id",variant:"outlined","return-object":!1},null,8,["items","error","modelValue"])]),_:1})]),_:1})]),_:1}),f("div",F,[a(y,{class:"profileBtn bg-primary custom-hover-primary",variant:"text",loading:p.value,onClick:b},{default:o(()=>[f("span",H,g(_(d).params.id==0?"Add":"Edit")+" request",1),a(O)]),_:1},8,["loading"])])]),_:1})]))}}};export{X as default};
