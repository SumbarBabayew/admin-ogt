import{M as m}from"./MTextField.5144c562.js";import{aK as T,a as D,aL as b}from"./admin.api.c4618457.js";import{i as X,j,r as i,k as P,g as S,c as h,e as a,w as l,a as r,o as V,b as p,f as z,t as x,m as _}from"./entry.95095313.js";import{L}from"./Loading.5d2fac71.js";/* empty css                       */const M={key:1,class:"mx-3"},q={class:"d-flex align-center justify-space-between pt-sm-2"},F={class:"d-flex justify-end pb-3"},K={class:"mr-2"},W={__name:"index",setup(O){const c=X(),s=j(),u=i(!1),v=i(!1),f=i(!1),e=i({nameEn:null,nameRu:null,nameX:null,orderNumber:null,eventId:null}),g=i([]),w=async()=>{const o=await D({limit:100});g.value=o.data},E=async()=>{if(!e.value.nameEn||!e.value.nameRu)return u.value=!0;f.value=!0,s.params.id==0?await b({data:e.value,id:s.params.id}).then(async o=>{c.go(-1)}).catch(o=>{alert(o)}):await b({data:e.value,id:s.params.id}).then(async o=>{c.go(-1)}).catch(o=>{alert(o)})};return P(async()=>{if(await w(),s.params.id!=0){v.value=!0;const{data:o}=await T({id:s.params.id});e.value=o,v.value=!1}}),(o,t)=>{const k=r("v-card-title"),I=r("ArrowBackUpIcon"),N=r("v-avatar"),y=r("v-btn"),d=r("v-col"),R=r("v-select"),U=r("v-row"),B=r("v-card-item"),A=r("ScriptPlusIcon"),C=r("v-card");return v.value?(V(),S(L,{key:0})):(V(),h("div",M,[a(C,{elevation:"10",class:"withbg"},{default:l(()=>[a(B,null,{default:l(()=>[p("div",q,[a(k,{class:"text-h5"},{default:l(()=>[z(x(_(s).params.id==0?"Add":"Edit")+" category",1)]),_:1}),a(y,{size:"large",icon:"",class:"bg-primary",onClick:t[0]||(t[0]=n=>_(c).go(-1))},{default:l(()=>[a(N,{size:"large",class:"text-white"},{default:l(()=>[a(I,{size:"25"})]),_:1})]),_:1})]),a(U,{class:"mt-3"},{default:l(()=>[a(d,{cols:"6",lg:"12"},{default:l(()=>[a(m,{type:"text",label:"Title EN",error:!e.value.nameEn&&u.value,modelValue:e.value.nameEn,"onUpdate:modelValue":t[1]||(t[1]=n=>e.value.nameEn=n)},null,8,["error","modelValue"])]),_:1}),a(d,{cols:"6",lg:"12"},{default:l(()=>[a(m,{type:"text",label:"Title RU",error:!e.value.nameRu&&u.value,modelValue:e.value.nameRu,"onUpdate:modelValue":t[2]||(t[2]=n=>e.value.nameRu=n)},null,8,["error","modelValue"])]),_:1}),a(d,{cols:"6",lg:"12"},{default:l(()=>[a(m,{type:"text",label:"Title X",error:!e.value.nameX&&u.value,modelValue:e.value.nameX,"onUpdate:modelValue":t[3]||(t[3]=n=>e.value.nameX=n)},null,8,["error","modelValue"])]),_:1}),a(d,{cols:"4"},{default:l(()=>[a(m,{type:"number",label:"Order number",error:!e.value.orderNumber&&u.value,modelValue:e.value.orderNumber,"onUpdate:modelValue":t[4]||(t[4]=n=>e.value.orderNumber=n)},null,8,["error","modelValue"])]),_:1}),a(d,{cols:"12",lg:"12",sm:"13"},{default:l(()=>[a(R,{label:"Select event",items:g.value.data,error:!e.value.eventId&&u.value,required:"","item-title":"name",modelValue:e.value.eventId,"onUpdate:modelValue":t[5]||(t[5]=n=>e.value.eventId=n),"item-value":"id",variant:"outlined","return-object":!1},null,8,["items","error","modelValue"])]),_:1})]),_:1})]),_:1}),p("div",F,[a(y,{class:"profileBtn bg-primary custom-hover-primary",variant:"text",loading:f.value,onClick:E},{default:l(()=>[p("span",K,x(_(s).params.id==0?"Add":"Edit")+" category ",1),a(A)]),_:1},8,["loading"])])]),_:1})]))}}};export{W as default};
