import{_ as N,r as u,o as _,c as g,b as a,t as f,F as $,y as C,s as x,a as m,m as w,e as t,w as S,z as h,j as J,C as Q,k as T,g as z}from"./entry.95095313.js";import{aI as B,aJ as F}from"./admin.api.c4618457.js";import{b as P}from"./BaseUrl.ad8812f8.js";import{L as D}from"./Loading.5d2fac71.js";import{l as k,_ as L,a as U,p as V}from"./Pagination.12ab80d4.js";const E={class:"container"},M={class:"count"},R={class:"responsive-table"},j=x('<li class="table-header" data-v-948c9cb9><div class="col col-1" data-v-948c9cb9>Image</div><div class="col col-2" data-v-948c9cb9>Title</div><div class="col col-2" data-v-948c9cb9>Subtitle</div><div class="col col-4" data-v-948c9cb9>Functions</div></li>',1),q={class:"table-row"},A={class:"col col-2","data-label":"Image"},X=["src"],G={class:"col col-2","data-label":"Title RU"},H={class:"col col-2","data-label":"Title X"},K={class:"col col-4","data-label":"Functions"},W={__name:"OnboardingsTable",props:{items:Array,count:Number},emits:["delete-item"],setup(p,{emit:d}){const o=p,c=u([]),l=u(!1),i=async s=>{await B({id:s}).then(()=>{l.value=!0,c.value=o.items.filter(v=>v.id!==s),d("delete-item",c.value)}),l.value=!1};return(s,v)=>{const b=m("FilePencilIcon"),r=m("v-btn"),y=m("TrashIcon"),n=m("UsersIcon");return _(),g("div",null,[a("div",E,[a("span",M,"Sany ( "+f(o.count)+" )",1),a("ul",R,[j,(_(!0),g($,null,C(p.items,(e,O)=>(_(),g("li",q,[a("div",A,[a("img",{crossorigin:"anonymous",class:"image",src:w(P).url_base+"/"+e.image},null,8,X)]),a("div",G,f(e.title),1),a("div",H,f(e.subtitle),1),a("div",K,[t(r,h({size:"30",title:"Edit",class:"profileBtn bg-primary custom-hover-primary",onClick:I=>s.$goPage(`/onboardings/${e.id}`),variant:"text"},o),{default:S(()=>[t(b,{size:"15"})]),_:2},1040,["onClick"]),t(r,h({size:"30",title:"Delete",class:"profileBtn bg-error custom-hover-primary",variant:"text",onClick:I=>i(e.id)},o),{default:S(()=>[t(y,{size:"15"})]),_:2},1040,["onClick"]),t(r,h({size:"25",title:"Speakers",class:"profileBtn bg-success custom-hover-primary",variant:"text",onClick:I=>s.$goPage(`/sessions/speakers/${e.id}`)},o),{default:S(()=>[t(n,{size:"15"})]),_:2},1040,["onClick"])])]))),256))])])])}}},Y=N(W,[["__scopeId","data-v-948c9cb9"]]),Z={key:1},le={__name:"index",setup(p){const d=u(!1),o=J(),c=u([]),l=u(0),i=JSON.parse(localStorage.getItem("SessionsQuery"))||{page:1,keyword:"",as:"",sort_by:""},s=u({page:i.page||1,keyword:i.keyword,limit:k,as:i.as||"",sort_by:i.sort_by||""}),v=e=>{c.value=e,n()};Q(o,e=>{localStorage.setItem("SessionsQuery",JSON.stringify(s.value))},{deep:!0,immediate:!0});const b=e=>{e&&(s.value.keyword="",s.value.page=1,s.value.as=e.as,s.value.sort_by=e.sort_by,localStorage.setItem("SessionsQuery",JSON.stringify(s.value)),n())},r=e=>{e&&(s.value.keyword=e,s.value.page=1,localStorage.setItem("SessionsQuery",JSON.stringify(s.value)),n())},y=e=>{e&&(s.value.page=e,localStorage.setItem("SessionsQuery",JSON.stringify(s.value)),n())},n=async()=>{const{data:e}=await F(JSON.parse(localStorage.getItem("SessionsQuery"))||s.value);c.value=e.data,l.value=e.count};return T(async()=>{d.value=!0,await n(),Math.ceil(l.value/k)==0&&(s.value.page=1,localStorage.setItem("SessionsQuery",JSON.stringify(s.value))),d.value=!1}),(e,O)=>d.value?(_(),z(D,{key:0})):(_(),g("div",Z,[t(L,{path:"/onboardings/0",items:w(V),onFilter:b,onSearch:r,onSearchEmpty:r},null,8,["items"]),t(Y,{items:c.value,onDeleteItem:v,count:l.value},null,8,["items","count"]),t(U,{count:l.value,onSetPagination:y,page:s.value.page},null,8,["count","page"])]))}};export{le as default};
