import{M as m}from"./MTextField.5144c562.js";import{M as f}from"./MTextArea.28b9e9bb.js";import{_ as A}from"./MImageUpload.7346563c.js";import{P as B,Q as b,R as x}from"./admin.api.c4618457.js";import{i as T,j as M,r as v,k as S,g as j,c as L,e as l,w as o,a as s,o as U,b as _,f as z,t as w,m as g}from"./entry.95095313.js";import{L as F}from"./Loading.5d2fac71.js";import"./file-saver.3ee51bdb.js";/* empty css                       *//* empty css                      */import"./BaseUrl.ad8812f8.js";const h={key:1,class:"mx-3"},$={class:"d-flex align-center justify-space-between pt-sm-2"},O={class:"d-flex justify-end pb-3"},Q={class:"mr-2"},te={__name:"index",setup(W){const p=T(),d=M(),r=v(!1),c=v(!1),V=v(!1),i=v(null),E=n=>i.value=n[0],e=v({nameEn:null,nameRu:null,nameX:null,infoEn:null,infoRu:null,infoX:null,siteUrl:null,image:null,orderNumber:null,customId:null}),R=async()=>{if(!e.value.nameEn||!e.value.nameRu)return r.value=!0;V.value=!0,d.params.id==0?await b({data:e.value,id:d.params.id}).then(async n=>{i.value&&await x({data:{file:i.value},id:n.data.id}),p.go(-1)}).catch(n=>{alert(n)}):await b({data:e.value,id:d.params.id}).then(async n=>{i.value&&await x({data:{file:i.value},id:d.params.id}),p.go(-1)}).catch(n=>{alert(n)})};return S(async()=>{if(d.params.id!=0){c.value=!0;const{data:n}=await B({id:d.params.id});e.value=n,c.value=!1}}),(n,a)=>{const I=s("v-card-title"),k=s("ArrowBackUpIcon"),X=s("v-avatar"),y=s("v-btn"),u=s("v-col"),N=s("v-row"),P=s("v-card-item"),C=s("ScriptPlusIcon"),D=s("v-card");return c.value?(U(),j(F,{key:0})):(U(),L("div",h,[l(D,{elevation:"10",class:"withbg"},{default:o(()=>[l(P,null,{default:o(()=>[_("div",$,[l(I,{class:"text-h5"},{default:o(()=>[z(w(g(d).params.id==0?"Add":"Edit")+" company",1)]),_:1}),l(y,{size:"large",icon:"",class:"bg-primary",onClick:a[0]||(a[0]=t=>g(p).go(-1))},{default:o(()=>[l(X,{size:"large",class:"text-white"},{default:o(()=>[l(k,{size:"25"})]),_:1})]),_:1})]),l(N,{class:"mt-3"},{default:o(()=>[l(u,{cols:"6",lg:"4",sm:"4"},{default:o(()=>[l(m,{type:"text",label:"Title EN",error:!e.value.nameEn&&r.value,modelValue:e.value.nameEn,"onUpdate:modelValue":a[1]||(a[1]=t=>e.value.nameEn=t)},null,8,["error","modelValue"])]),_:1}),l(u,{cols:"6",lg:"4",sm:"4"},{default:o(()=>[l(m,{type:"text",label:"Title RU",error:!e.value.nameRu&&r.value,modelValue:e.value.nameRu,"onUpdate:modelValue":a[2]||(a[2]=t=>e.value.nameRu=t)},null,8,["error","modelValue"])]),_:1}),l(u,{cols:"6",lg:"4",sm:"4"},{default:o(()=>[l(m,{type:"text",label:"Title X",error:!e.value.nameX&&r.value,modelValue:e.value.nameX,"onUpdate:modelValue":a[3]||(a[3]=t=>e.value.nameX=t)},null,8,["error","modelValue"])]),_:1}),l(u,{lg:"12",sm:"12"},{default:o(()=>[l(f,{type:"text",label:"Details (EN)",error:!e.value.infoEn&&r.value,modelValue:e.value.infoEn,"onUpdate:modelValue":a[4]||(a[4]=t=>e.value.infoEn=t)},null,8,["label","error","modelValue"])]),_:1}),l(u,{lg:"12",sm:"12"},{default:o(()=>[l(f,{type:"text",label:"Details (RU)",error:!e.value.infoRu&&r.value,modelValue:e.value.infoRu,"onUpdate:modelValue":a[5]||(a[5]=t=>e.value.infoRu=t)},null,8,["label","error","modelValue"])]),_:1}),l(u,{lg:"12",sm:"12"},{default:o(()=>[l(f,{type:"text",label:"Details (X)",error:!e.value.infoX&&r.value,modelValue:e.value.infoX,"onUpdate:modelValue":a[6]||(a[6]=t=>e.value.infoX=t)},null,8,["label","error","modelValue"])]),_:1}),l(u,{cols:"6"},{default:o(()=>[l(m,{type:"text",label:"Website",error:!e.value.siteUrl&&r.value,modelValue:e.value.siteUrl,"onUpdate:modelValue":a[7]||(a[7]=t=>e.value.siteUrl=t)},null,8,["error","modelValue"])]),_:1}),l(u,{cols:"6"},{default:o(()=>[l(m,{type:"text",label:"Order number",error:!e.value.orderNumber&&r.value,modelValue:e.value.orderNumber,"onUpdate:modelValue":a[8]||(a[8]=t=>e.value.orderNumber=t)},null,8,["error","modelValue"])]),_:1}),l(u,{cols:"6"},{default:o(()=>[l(m,{type:"number",label:"Custom ID",error:!e.value.customId&&r.value,modelValue:e.value.customId,"onUpdate:modelValue":a[9]||(a[9]=t=>e.value.customId=t)},null,8,["error","modelValue"])]),_:1}),l(u,{cols:"6",lg:"6",sm:"12"},{default:o(()=>[l(A,{width:"width:100%",style:"display:flex; justify-content:center",photoSrc:{type:"string",value:e.value.image},error:r.value&&!i.value,selectedFile:i.value,onPhotoPath:E,placeholder:"Logo"},null,8,["photoSrc","error","selectedFile"])]),_:1})]),_:1})]),_:1}),_("div",O,[l(y,{class:"profileBtn bg-primary custom-hover-primary",variant:"text",loading:V.value,onClick:R},{default:o(()=>[_("span",Q,w(g(d).params.id==0?"Add":"Edit")+" company ",1),l(C)]),_:1},8,["loading"])])]),_:1})]))}}};export{te as default};
