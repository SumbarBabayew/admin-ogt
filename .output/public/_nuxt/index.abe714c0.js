import{i as C,j as X,r as i,k as M,g as T,c as z,e as a,w as o,a as s,o as x,b as v,f as y,t as w,m as f,D as L,L as h}from"./entry.95095313.js";import{M as m}from"./MTextField.5144c562.js";import{k as q,l as P,a as F,m as B}from"./admin.api.c4618457.js";import{L as H}from"./Loading.5d2fac71.js";import"./index.3e494a7b.js";import"./file-saver.3ee51bdb.js";/* empty css                       */const O={key:1,class:"mx-3"},$={class:"d-flex align-center justify-space-between pt-sm-2"},G=["value"],J={class:"d-flex justify-end pb-3"},K={class:"mr-2"},oe={__name:"index",setup(Q){const c=C(),d=X(),n=i(!1),p=i(!1),_=i(!1),e=i({time:null,isBreak:!1,breakEn:null,breakRu:null,breakX:null,orderNumber:null,eventId:null}),b=i([]),k=i([]),I=async()=>{const r=await P({limit:100});b.value=r.data;const l=await F({limit:100});k.value=l.data},E=async()=>{if(d.params.id==0){if(!e.value.time)return n.value=!0;_.value=!0,await B({data:e.value,id:d.params.id}).then(async r=>{c.go(-1)}).catch(r=>{alert(r)})}else{if(!e.value.time)return n.value=!0;_.value=!0,await B({data:e.value,id:d.params.id}).then(async r=>{c.go(-1)}).catch(r=>{alert(r)})}};return M(async()=>{if(await I(),d.params.id!=0){p.value=!0;const{data:r}=await q({id:d.params.id});e.value=r,p.value=!1}}),(r,l)=>{const U=s("v-card-title"),A=s("ArrowBackUpIcon"),N=s("v-avatar"),g=s("v-btn"),V=s("v-select"),u=s("v-col"),D=s("v-row"),R=s("v-card-item"),S=s("ScriptPlusIcon"),j=s("v-card");return p.value?(x(),T(H,{key:0})):(x(),z("div",O,[a(j,{elevation:"10",class:"withbg"},{default:o(()=>[a(R,null,{default:o(()=>[v("div",$,[a(U,{class:"text-h5"},{default:o(()=>[y(w(f(d).params.id==0?"Add":"Edit")+" agenda",1)]),_:1}),a(g,{size:"large",icon:"",class:"bg-primary",onClick:l[0]||(l[0]=t=>f(c).go(-1))},{default:o(()=>[a(N,{size:"large",class:"text-white"},{default:o(()=>[a(A,{size:"25"})]),_:1})]),_:1})]),a(D,{class:"mt-3"},{default:o(()=>[a(u,{cols:"12",lg:"6",sm:"13"},{default:o(()=>[a(V,{label:"Select session",items:b.value.data,error:!e.value.sessionId&&n.value,required:"","item-title":"nameEn",modelValue:e.value.sessionId,"onUpdate:modelValue":l[1]||(l[1]=t=>e.value.sessionId=t),"item-value":"id",variant:"outlined","return-object":!1},null,8,["items","error","modelValue"])]),_:1}),a(u,{cols:"12"},{default:o(()=>[a(m,{type:"text",label:"Time",placeholder:"15.06/10:00-12:00",error:!e.value.time&&n.value,modelValue:e.value.time,"onUpdate:modelValue":l[2]||(l[2]=t=>e.value.time=t)},null,8,["error","modelValue"])]),_:1}),a(u,{cols:"12",lg:"6",sm:"13"},{default:o(()=>[L(v("input",{type:"checkbox","onUpdate:modelValue":l[3]||(l[3]=t=>e.value.isBreak=t),value:e.value.isBreak,"aria-label":"Hello "},null,8,G),[[h,e.value.isBreak]]),y(" Is break ")]),_:1}),a(u,{cols:"12"},{default:o(()=>[a(m,{type:"text",label:"Break EN",error:!e.value.breakEn&&n.value,modelValue:e.value.breakEn,"onUpdate:modelValue":l[4]||(l[4]=t=>e.value.breakEn=t)},null,8,["error","modelValue"])]),_:1}),a(u,{cols:"12"},{default:o(()=>[a(m,{type:"text",label:"Break RU",error:!e.value.breakRu&&n.value,modelValue:e.value.breakRu,"onUpdate:modelValue":l[5]||(l[5]=t=>e.value.breakRu=t)},null,8,["error","modelValue"])]),_:1}),a(u,{cols:"12"},{default:o(()=>[a(m,{type:"text",label:"Break X",error:!e.value.breakX&&n.value,modelValue:e.value.breakX,"onUpdate:modelValue":l[6]||(l[6]=t=>e.value.breakX=t)},null,8,["error","modelValue"])]),_:1}),a(u,{cols:"4"},{default:o(()=>[a(m,{type:"text",label:"Order number",error:!e.value.orderNumber&&n.value,modelValue:e.value.orderNumber,"onUpdate:modelValue":l[7]||(l[7]=t=>e.value.orderNumber=t)},null,8,["error","modelValue"])]),_:1}),a(u,{cols:"12",lg:"12",sm:"13"},{default:o(()=>[a(V,{label:"Select event",items:k.value.data,error:!e.value.eventId&&n.value,required:"","item-title":"name",modelValue:e.value.eventId,"onUpdate:modelValue":l[8]||(l[8]=t=>e.value.eventId=t),"item-value":"id",variant:"outlined","return-object":!1},null,8,["items","error","modelValue"])]),_:1})]),_:1})]),_:1}),v("div",J,[a(g,{class:"profileBtn bg-primary custom-hover-primary",variant:"text",loading:_.value,onClick:E},{default:o(()=>[v("span",K,w(f(d).params.id==0?"Add":"Edit")+" agenda ",1),a(S)]),_:1},8,["loading"])])]),_:1})]))}}};export{oe as default};
