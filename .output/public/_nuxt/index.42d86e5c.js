import{i as j,j as M,r as _,k as z,g as R,c as $,e as l,w as o,a as i,o as h,b as d,f as v,t as k,m as y,D as c,L as b}from"./entry.95095313.js";import{M as f}from"./MTextField.5144c562.js";import{_ as w}from"./MImageUpload.7346563c.js";import{Z as O,_ as P,$ as U,a0 as B}from"./admin.api.c4618457.js";import{L as X}from"./Loading.5d2fac71.js";import"./index.3e494a7b.js";import"./file-saver.3ee51bdb.js";/* empty css                       */import"./BaseUrl.ad8812f8.js";const Z={key:1,class:"mx-3"},q={class:"d-flex align-center justify-space-between pt-sm-2"},G=["value"],J=["value"],K=["value"],Q=["value"],W=["value"],Y=["value"],ee=["value"],le={class:"d-flex justify-end pb-3"},ae={class:"mr-2"},me={__name:"index",setup(te){const E=j(),r=M(),s=_(!1),x=_(!1),g=_(!1),p=_(null),m=_(null),L=n=>p.value=n[0],F=n=>m.value=n[0],e=_({name:null,subtitle:null,fbTopic:null,color:null,date:null,logo:"",banner:"",floorPlanEnabled:!1,exhibitorsEnabled:!1,registerEnabled:!1,visaEnabled:!1,accomodationEnabled:!1,flightEnabled:!1,culturalEnabled:!1,orderNumber:null,isVisible:!1,pptPortalLink:null}),H=async()=>{if(!e.value.name)return s.value=!0;g.value=!0,r.params.id==0?await P({data:e.value,id:r.params.id}).then(async n=>{p.value&&await U({data:{file:p.value},id:r.params.id}),m.value&&await B({data:{file:m.value},id:r.params.id}),g.value=!1,E.go(-1)}).catch(n=>{alert(n)}):await P({data:e.value,id:r.params.id}).then(async n=>{p.value&&await U({data:{file:p.value},id:r.params.id}),m.value&&await B({data:{file:m.value},id:r.params.id}),g.value=!1,E.go(-1)}).catch(n=>{alert(n)})};return z(async()=>{if(r.params.id!=0){x.value=!0;const{data:n}=await O({id:r.params.id});e.value=n,x.value=!1}}),(n,a)=>{const N=i("v-card-title"),S=i("ArrowBackUpIcon"),A=i("v-avatar"),V=i("v-btn"),u=i("v-col"),D=i("v-row"),T=i("v-card-item"),C=i("ScriptPlusIcon"),I=i("v-card");return x.value?(h(),R(X,{key:0})):(h(),$("div",Z,[l(I,{elevation:"10",class:"withbg"},{default:o(()=>[l(T,null,{default:o(()=>[d("div",q,[l(N,{class:"text-h5"},{default:o(()=>[v(k(y(r).params.id==0?"Add":"Edit")+" event",1)]),_:1}),l(V,{size:"large",icon:"",class:"bg-primary",onClick:a[0]||(a[0]=t=>y(E).go(-1))},{default:o(()=>[l(A,{size:"large",class:"text-white"},{default:o(()=>[l(S,{size:"25"})]),_:1})]),_:1})]),l(D,{class:"mt-3"},{default:o(()=>[l(u,{cols:"2"},{default:o(()=>[l(f,{type:"text",label:"Name",error:!e.value.name&&s.value,modelValue:e.value.name,"onUpdate:modelValue":a[1]||(a[1]=t=>e.value.name=t)},null,8,["error","modelValue"])]),_:1}),l(u,{cols:"10"},{default:o(()=>[l(f,{type:"text",label:"Subtitle",error:!e.value.subtitle&&s.value,modelValue:e.value.subtitle,"onUpdate:modelValue":a[2]||(a[2]=t=>e.value.subtitle=t)},null,8,["error","modelValue"])]),_:1}),l(u,{cols:"6"},{default:o(()=>[l(f,{type:"text",label:"Firebase topic",error:!e.value.fbTopic&&s.value,modelValue:e.value.fbTopic,"onUpdate:modelValue":a[3]||(a[3]=t=>e.value.fbTopic=t)},null,8,["error","modelValue"])]),_:1}),l(u,{cols:"6"},{default:o(()=>[l(f,{type:"text",label:"HEX color code",error:!e.value.color&&s.value,modelValue:e.value.color,"onUpdate:modelValue":a[4]||(a[4]=t=>e.value.color=t)},null,8,["error","modelValue"])]),_:1}),l(u,{cols:"6"},{default:o(()=>[l(f,{type:"text",label:"Date",error:!e.value.date&&s.value,modelValue:e.value.date,"onUpdate:modelValue":a[5]||(a[5]=t=>e.value.date=t)},null,8,["error","modelValue"])]),_:1}),l(u,{cols:"6"},{default:o(()=>[l(f,{type:"text",label:"Order number",error:!e.value.orderNumber&&s.value,modelValue:e.value.orderNumber,"onUpdate:modelValue":a[6]||(a[6]=t=>e.value.orderNumber=t)},null,8,["error","modelValue"])]),_:1}),l(u,{cols:"6"},{default:o(()=>[l(f,{type:"text",label:"Presentation portal link",error:!e.value.pptPortalLink&&s.value,modelValue:e.value.pptPortalLink,"onUpdate:modelValue":a[7]||(a[7]=t=>e.value.pptPortalLink=t)},null,8,["error","modelValue"])]),_:1}),l(u,{cols:"12",lg:"12",sm:"13"},{default:o(()=>[c(d("input",{type:"checkbox","onUpdate:modelValue":a[8]||(a[8]=t=>e.value.floorPlanEnabled=t),value:e.value.floorPlanEnabled,"aria-label":"Hello "},null,8,G),[[b,e.value.floorPlanEnabled]]),v(" Floor Plan ")]),_:1}),l(u,{cols:"12",lg:"12",sm:"13"},{default:o(()=>[c(d("input",{type:"checkbox","onUpdate:modelValue":a[9]||(a[9]=t=>e.value.exhibitorsEnabled=t),value:e.value.exhibitorsEnabled,"aria-label":"Hello "},null,8,J),[[b,e.value.exhibitorsEnabled]]),v(" Exhibitors ")]),_:1}),l(u,{cols:"12",lg:"12",sm:"13"},{default:o(()=>[c(d("input",{type:"checkbox","onUpdate:modelValue":a[10]||(a[10]=t=>e.value.registerEnabled=t),value:e.value.registerEnabled,"aria-label":"Hello "},null,8,K),[[b,e.value.registerEnabled]]),v(" Register ")]),_:1}),l(u,{cols:"12",lg:"12",sm:"13"},{default:o(()=>[c(d("input",{type:"checkbox","onUpdate:modelValue":a[11]||(a[11]=t=>e.value.visaEnabled=t),value:e.value.visaEnabled,"aria-label":"Hello "},null,8,Q),[[b,e.value.visaEnabled]]),v(" Visa ")]),_:1}),l(u,{cols:"12",lg:"12",sm:"13"},{default:o(()=>[c(d("input",{type:"checkbox","onUpdate:modelValue":a[12]||(a[12]=t=>e.value.accomodationEnabled=t),value:e.value.accomodationEnabled,"aria-label":"Hello "},null,8,W),[[b,e.value.accomodationEnabled]]),v(" Accommodation ")]),_:1}),l(u,{cols:"12",lg:"12",sm:"13"},{default:o(()=>[c(d("input",{type:"checkbox","onUpdate:modelValue":a[13]||(a[13]=t=>e.value.flightEnabled=t),value:e.value.flightEnabled,"aria-label":"Hello "},null,8,Y),[[b,e.value.flightEnabled]]),v(" Flight ")]),_:1}),l(u,{cols:"12",lg:"12",sm:"13"},{default:o(()=>[c(d("input",{type:"checkbox","onUpdate:modelValue":a[14]||(a[14]=t=>e.value.culturalEnabled=t),value:e.value.culturalEnabled,"aria-label":"Hello "},null,8,ee),[[b,e.value.culturalEnabled]]),v(" Cultural programme ")]),_:1}),l(u,{cols:"6",lg:"6",sm:"12"},{default:o(()=>[l(w,{width:"width:100%",style:"display:flex; justify-content:center",photoSrc:{type:"string",value:e.value.logo},error:s.value&&!p.value,selectedFile:p.value,onPhotoPath:L,placeholder:"Logo"},null,8,["photoSrc","error","selectedFile"])]),_:1}),l(u,{cols:"6",lg:"6",sm:"12"},{default:o(()=>[l(w,{width:"width:100%",style:"display:flex; justify-content:center",photoSrc:{type:"string",value:e.value.banner},error:s.value&&!m.value,selectedFile:m.value,onPhotoPath:F,placeholder:"Banner"},null,8,["photoSrc","error","selectedFile"])]),_:1})]),_:1})]),_:1}),d("div",le,[l(V,{class:"profileBtn bg-primary custom-hover-primary",variant:"text",loading:g.value,onClick:H},{default:o(()=>[d("span",ae,k(y(r).params.id==0?"Add":"Edit")+" event ",1),l(C)]),_:1},8,["loading"])])]),_:1})]))}}};export{me as default};
