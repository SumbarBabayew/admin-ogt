import{M as m}from"./MTextField.5144c562.js";import{b5 as D,a as F,b6 as b}from"./admin.api.c4618457.js";import{i as T,j,r as i,k as R,g as S,c as q,e as a,w as o,a as n,o as x,b as p,f as z,t as w,m as f}from"./entry.95095313.js";import{L}from"./Loading.5d2fac71.js";/* empty css                       */const M={key:1,class:"mx-3"},P={class:"d-flex align-center justify-space-between pt-sm-2"},$={class:"d-flex justify-end pb-3"},G={class:"mr-2"},X={__name:"[id]",setup(H){const c=T(),r=j(),u=i(!1),v=i(!1),_=i(!1),e=i({firstName:null,lastName:null,email:null,company:null,eventId:null}),y=i([]),V=async()=>{const t=await F({limit:100});y.value=t.data},N=async()=>{_.value=!0,r.params.id==0?await b({data:e.value,id:r.params.id}).then(async t=>{c.go(-1)}).catch(t=>{alert(t)}):await b({data:e.value,id:r.params.id}).then(async t=>{c.go(-1)}).catch(t=>{alert(t)})};return R(async()=>{if(r.params.id!=0){v.value=!0;const{data:t}=await D({id:r.params.id});e.value.firstName=t.firstName,e.value.lastName=t.lastName,e.value.phone=t.phone,e.value.email=t.email,e.value.company=t.company,e.value.eventId=t.eventId,e.value.transferFeatureId=t.transferFeatureId,e.value.transferId=t.transferFeature.transfer.id,await V(),v.value=!1}else await V()}),(t,l)=>{const I=n("v-card-title"),k=n("ArrowBackUpIcon"),U=n("v-avatar"),g=n("v-btn"),d=n("v-col"),h=n("v-select"),B=n("v-row"),A=n("v-card-item"),E=n("ScriptPlusIcon"),C=n("v-card");return v.value?(x(),S(L,{key:0})):(x(),q("div",M,[a(C,{elevation:"10",class:"withbg"},{default:o(()=>[a(A,null,{default:o(()=>[p("div",P,[a(I,{class:"text-h5"},{default:o(()=>[z(w(f(r).params.id==0?"Add":"Edit"),1)]),_:1}),a(g,{size:"large",icon:"",class:"bg-primary",onClick:l[0]||(l[0]=s=>f(c).go(-1))},{default:o(()=>[a(U,{size:"large",class:"text-white"},{default:o(()=>[a(k,{size:"25"})]),_:1})]),_:1})]),a(B,{class:"mt-3"},{default:o(()=>[a(d,{cols:"6"},{default:o(()=>[a(m,{type:"text",label:"Firstname",error:!e.value.firstName&&u.value,modelValue:e.value.firstName,"onUpdate:modelValue":l[1]||(l[1]=s=>e.value.firstName=s)},null,8,["error","modelValue"])]),_:1}),a(d,{cols:"6"},{default:o(()=>[a(m,{type:"text",label:"Lastname",error:!e.value.lastName&&u.value,modelValue:e.value.lastName,"onUpdate:modelValue":l[2]||(l[2]=s=>e.value.lastName=s)},null,8,["error","modelValue"])]),_:1}),a(d,{cols:"6"},{default:o(()=>[a(m,{type:"text",label:"Phone",error:!e.value.phone&&u.value,modelValue:e.value.phone,"onUpdate:modelValue":l[3]||(l[3]=s=>e.value.phone=s)},null,8,["error","modelValue"])]),_:1}),a(d,{cols:"6"},{default:o(()=>[a(m,{type:"text",label:"Email",error:!e.value.email&&u.value,modelValue:e.value.email,"onUpdate:modelValue":l[4]||(l[4]=s=>e.value.email=s)},null,8,["error","modelValue"])]),_:1}),a(d,{cols:"6"},{default:o(()=>[a(m,{type:"text",label:"Company",error:!e.value.company&&u.value,modelValue:e.value.company,"onUpdate:modelValue":l[5]||(l[5]=s=>e.value.company=s)},null,8,["error","modelValue"])]),_:1}),a(d,{cols:"12",lg:"12",sm:"13"},{default:o(()=>[a(h,{label:"Select event",items:y.value.data,error:!e.value.eventId&&u.value,required:"","item-title":"name",modelValue:e.value.eventId,"onUpdate:modelValue":l[6]||(l[6]=s=>e.value.eventId=s),"item-value":"id",variant:"outlined","return-object":!1},null,8,["items","error","modelValue"])]),_:1})]),_:1})]),_:1}),p("div",$,[a(g,{class:"profileBtn bg-primary custom-hover-primary",variant:"text",loading:_.value,onClick:N},{default:o(()=>[p("span",G,w(f(r).params.id==0?"Add":"Edit"),1),a(E)]),_:1},8,["loading"])])]),_:1})]))}}};export{X as default};
