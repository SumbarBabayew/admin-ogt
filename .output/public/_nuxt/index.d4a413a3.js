import{_ as w,r as u,o as v,c as p,b as s,t as y,F as C,y as N,a as b,e as l,w as h,z as I,A as x,B as Q,j as $,C as A,k as B,g as E,m as F}from"./entry.95095313.js";import{d as J,c as O}from"./admin.api.c4618457.js";import{L as T}from"./Loading.5d2fac71.js";import{l as k,_ as P,a as z,p as L}from"./Pagination.12ab80d4.js";const D=o=>(x("data-v-db3c1c65"),o=o(),Q(),o),V={class:"container"},M={class:"count"},j={class:"responsive-table"},q=D(()=>s("li",{class:"table-header"},[s("div",{class:"col col-6"},"Title EN"),s("div",{class:"col col-4"},"Event"),s("div",{class:"col col-1"},"Functions")],-1)),R={class:"table-row"},G={class:"col col-6","data-label":"Title EN"},H={class:"col col-4","data-label":"Event"},K={class:"col col-1","data-label":"Functions"},U={__name:"AboutConferenceTable",props:{items:Array,count:Number},emits:["delete-item"],setup(o,{emit:d}){const c=o,i=u([]),n=u(!1),r=async e=>{await J({id:e}).then(()=>{n.value=!0,i.value=c.items.filter(m=>m.id!==e),d("delete-item",i.value)}),n.value=!1};return(e,m)=>{const f=b("FilePencilIcon"),_=b("v-btn"),g=b("TrashIcon");return v(),p("div",null,[s("div",V,[s("span",M,"Sany ( "+y(c.count)+" )",1),s("ul",j,[q,(v(!0),p(C,null,N(o.items,(a,t)=>(v(),p("li",R,[s("div",G,y(a.titleEn),1),s("div",H,y(a.event!=null?a.event.name:""),1),s("div",K,[l(_,I({size:"30",class:"profileBtn bg-primary custom-hover-primary",onClick:S=>e.$goPage(`/about-conference/${a.id}`),variant:"text"},c),{default:h(()=>[l(f,{size:"15"})]),_:2},1040,["onClick"]),l(_,I({size:"30",class:"profileBtn bg-error custom-hover-primary",variant:"text",onClick:S=>r(a.id)},c),{default:h(()=>[l(g,{size:"15"})]),_:2},1040,["onClick"])])]))),256))])])])}}},W=w(U,[["__scopeId","data-v-db3c1c65"]]),X={key:1},ae={__name:"index",setup(o){const d=u(!1),c=$(),i=u([]),n=u(0),r=JSON.parse(localStorage.getItem("SessionsQuery"))||{page:1,keyword:"",as:"",sort_by:""},e=u({page:r.page||1,keyword:r.keyword,limit:k,as:r.as||"",sort_by:r.sort_by||""}),m=t=>{i.value=t,a()};A(c,t=>{localStorage.setItem("SessionsQuery",JSON.stringify(e.value))},{deep:!0,immediate:!0});const f=t=>{t&&(e.value.keyword="",e.value.page=1,e.value.as=t.as,e.value.sort_by=t.sort_by,localStorage.setItem("SessionsQuery",JSON.stringify(e.value)),a())},_=t=>{t&&(e.value.keyword=t,e.value.page=1,localStorage.setItem("SessionsQuery",JSON.stringify(e.value)),a())},g=t=>{t&&(e.value.page=t,localStorage.setItem("SessionsQuery",JSON.stringify(e.value)),a())},a=async()=>{const{data:t}=await O(JSON.parse(localStorage.getItem("SessionsQuery"))||e.value);i.value=t.data,n.value=t.count};return B(async()=>{d.value=!0,await a(),Math.ceil(n.value/k)==0&&(e.value.page=1,localStorage.setItem("SessionsQuery",JSON.stringify(e.value))),d.value=!1}),(t,S)=>d.value?(v(),E(T,{key:0})):(v(),p("div",X,[l(P,{path:"/about-conference/0",items:F(L),onFilter:f,onSearch:_,onSearchEmpty:_},null,8,["items"]),l(W,{items:i.value,onDeleteItem:m,count:n.value},null,8,["items","count"]),l(z,{count:n.value,onSetPagination:g,page:e.value.page},null,8,["count","page"])]))}};export{ae as default};
