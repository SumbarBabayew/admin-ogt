import{M as f}from"./MTextField.5144c562.js";import{_ as C}from"./MImageUpload.7346563c.js";import{M as _}from"./MTextArea.28b9e9bb.js";import{aA as D,a as M,aB as x,aC as w}from"./admin.api.c4618457.js";import{i as P,j as z,r as v,k as F,g as L,c as $,e as l,w as a,a as u,o as E,b as y,f as q,t as R,m as b}from"./entry.95095313.js";import{L as G}from"./Loading.5d2fac71.js";/* empty css                       */import"./BaseUrl.ad8812f8.js";/* empty css                      */const H={key:1,class:"mx-3"},J={class:"d-flex align-center justify-space-between pt-sm-2"},K={class:"d-flex justify-end pb-3"},O={class:"mr-2"},ue={__name:"index",setup(Q){const c=P(),i=z(),r=v(!1),d=v(null),m=v(!1),p=v(!1),B=o=>d.value=o[0],e=v({titleRu:null,titleEn:null,titleX:null,bodyRu:null,bodyEn:null,bodyX:null,image:"",eventId:null}),g=v([]),I=async()=>{const o=await M({limit:100});g.value=o.data},U=async()=>{if(!e.value.titleRu||!e.value.titleEn||!e.value.bodyRu)return r.value=!0;p.value=!0,i.params.id==0?await x({data:e.value,id:i.params.id}).then(async o=>{await w({id:o.data.id,data:{file:d.value}}),c.go(-1)}).catch(o=>{alert(o)}):await x({data:e.value,id:i.params.id}).then(async o=>{d.value&&await w({id:o.data.id,data:{file:d.value}}),c.go(-1)}).catch(o=>{alert(o)}),p.value=!1};return F(async()=>{if(await I(),i.params.id!=0){m.value=!0;const{data:o}=await D({id:i.params.id});e.value=o,m.value=!1}}),(o,t)=>{const k=u("v-card-title"),X=u("ArrowBackUpIcon"),A=u("v-avatar"),V=u("v-btn"),s=u("v-col"),N=u("v-select"),h=u("v-row"),S=u("v-card-item"),T=u("ScriptPlusIcon"),j=u("v-card");return m.value?(E(),L(G,{key:0})):(E(),$("div",H,[l(j,{elevation:"10",class:"withbg"},{default:a(()=>[l(S,null,{default:a(()=>[y("div",J,[l(k,{class:"text-h5"},{default:a(()=>[q(R(b(i).params.id==0?"Add":"Edit")+" notification",1)]),_:1}),l(V,{size:"large",icon:"",class:"bg-primary",onClick:t[0]||(t[0]=n=>b(c).go(-1))},{default:a(()=>[l(A,{size:"large",class:"text-white"},{default:a(()=>[l(X,{size:"25"})]),_:1})]),_:1})]),l(h,{class:"mt-3"},{default:a(()=>[l(s,{cols:"12",lg:"4"},{default:a(()=>[l(f,{type:"text",label:"Title (EN)",error:!e.value.titleEn&&r.value,modelValue:e.value.titleEn,"onUpdate:modelValue":t[1]||(t[1]=n=>e.value.titleEn=n)},null,8,["label","error","modelValue"])]),_:1}),l(s,{cols:"12",lg:"4"},{default:a(()=>[l(f,{type:"text",label:"Title (RU)",error:!e.value.titleRu&&r.value,modelValue:e.value.titleRu,"onUpdate:modelValue":t[2]||(t[2]=n=>e.value.titleRu=n)},null,8,["label","error","modelValue"])]),_:1}),l(s,{cols:"12",lg:"4"},{default:a(()=>[l(f,{type:"text",label:"Title (X)",error:!e.value.titleX&&r.value,modelValue:e.value.titleX,"onUpdate:modelValue":t[3]||(t[3]=n=>e.value.titleX=n)},null,8,["label","error","modelValue"])]),_:1}),l(s,{cols:"12",lg:"4"},{default:a(()=>[l(_,{type:"text",label:"Body (EN)",error:!e.value.bodyEn&&r.value,modelValue:e.value.bodyEn,"onUpdate:modelValue":t[4]||(t[4]=n=>e.value.bodyEn=n)},null,8,["label","error","modelValue"])]),_:1}),l(s,{cols:"12",lg:"4"},{default:a(()=>[l(_,{type:"text",label:"Body (RU)",error:!e.value.bodyRu&&r.value,modelValue:e.value.bodyRu,"onUpdate:modelValue":t[5]||(t[5]=n=>e.value.bodyRu=n)},null,8,["label","error","modelValue"])]),_:1}),l(s,{cols:"12",lg:"4"},{default:a(()=>[l(_,{type:"text",label:"Body (X)",error:!e.value.bodyX&&r.value,modelValue:e.value.bodyX,"onUpdate:modelValue":t[6]||(t[6]=n=>e.value.bodyX=n)},null,8,["label","error","modelValue"])]),_:1}),l(s,{cols:"12",lg:"12",sm:"13"},{default:a(()=>[l(N,{label:"Select event",items:g.value.data,error:!e.value.eventId&&r.value,required:"","item-title":"name",modelValue:e.value.eventId,"onUpdate:modelValue":t[7]||(t[7]=n=>e.value.eventId=n),"item-value":"id",variant:"outlined","return-object":!1},null,8,["items","error","modelValue"])]),_:1}),l(s,{lg:"12",sm:"12"},{default:a(()=>[l(C,{width:"width:100%",style:"display:flex; justify-content:center",photoSrc:{type:"string",value:e.value.image},error:r.value&&!d.value,selectedFile:d.value,onPhotoPath:B,placeholder:"Surat"},null,8,["photoSrc","error","selectedFile"])]),_:1})]),_:1})]),_:1}),y("div",K,[l(V,{class:"profileBtn bg-primary custom-hover-primary",variant:"text",loading:p.value,onClick:U},{default:a(()=>[y("span",O,R(b(i).params.id==0?"Add":"Edit")+" notification",1),l(T)]),_:1},8,["loading"])])]),_:1})]))}}};export{ue as default};
